<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <!-- <link href="./assets/css/bootstrap.min.css" rel="stylesheet" /> -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      type="text/css"
      href="{{ url_for('static',filename='styles/bootstrap.min.css') }}"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="{{ url_for('static',filename='styles/custom.css') }}"
    />
    <title>JavaScript Sensor Access Demo</title>
  </head>
  <body>
    <div class="p-3 mb-2 bg-secondary" id="demo-div">
      <a
        id="start_demo"
        class="btn btn-lg btn-success py-1"
        href="#"
        role="button"
        >Start the demo</a
      >
      <p style="margin-top: 1rem">
        Num. of datapoints:
        <span class="badge badge-warning" id="num-observed-events">0</span>
      </p>

      <div class="d-flex flex-column align-items-start justify-content-center">
        <div class="m-2 d-flex flex-column">
          <h4 class="mb-2">Orientation</h4>
          <ul>
            <li>
              X-axis (&beta;): <span id="Orientation_b">0</span
              ><span>&deg;</span>
            </li>
            <li>
              Y-axis (&gamma;): <span id="Orientation_g">0</span
              ><span>&deg;</span>
            </li>
            <li>
              Z-axis (&alpha;): <span id="Orientation_a">0</span
              ><span>&deg;</span>
            </li>
          </ul>
        </div>
        <div class="m-2 d-flex flex-column">
          <h4 class="mb-2">Accelerometer</h4>
          <ul>
            <li>
              X-axis: <span id="Accelerometer_x">0</span
              ><span> m/s<sup>2</sup></span>
            </li>
            <li>
              Y-axis: <span id="Accelerometer_y">0</span
              ><span> m/s<sup>2</sup></span>
            </li>
            <li>
              Z-axis: <span id="Accelerometer_z">0</span
              ><span> m/s<sup>2</sup></span>
            </li>
            <li>
              Data Interval: <span id="Accelerometer_i">0</span><span> ms</span>
            </li>
          </ul>
        </div>
        <div class="m-2 d-flex flex-column">
          <h4 class="mb-2">Accelerometer including gravity</h4>

          <ul>
            <li>
              X-axis: <span id="Accelerometer_gx">0</span
              ><span> m/s<sup>2</sup></span>
            </li>
            <li>
              Y-axis: <span id="Accelerometer_gy">0</span
              ><span> m/s<sup>2</sup></span>
            </li>
            <li>
              Z-axis: <span id="Accelerometer_gz">0</span
              ><span> m/s<sup>2</sup></span>
            </li>
          </ul>
        </div>
        <div class="m-2 d-flex flex-column">
          <h4 class="mb-2">Gyroscope</h4>
          <ul>
            <li>X-axis: <span id="Gyroscope_x">0</span><span>&deg;/s</span></li>
            <li>Y-axis: <span id="Gyroscope_y">0</span><span>&deg;/s</span></li>
            <li>Z-axis: <span id="Gyroscope_z">0</span><span>&deg;/s</span></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="">
      <p class="data">{{pred_text}}</p>
    </div>
    <script>
      let data_point = {
    data: [
      ["-6.24", "3.68", "-8.158588"],
      ["-6.7", "8.24", "-5.597963"],
      ["-2.53", "16.7", "-3.568531"],
      ["4.94", "8.35", "0.3405087"],
      ["-0.23", "6.32", "-2.7240696"],
      ["-4.75", "8.92", "2.2201166"],
      ["-0.34", "12.37", "-2.4516625"],
      ["2.22", "14.29", "1.920469"],
      ["2.91", "14.82", "1.334794"],
      ["1.08", "14.37", "2.7921712"],
      ["-4.86", "15.51", "-3.8273177"],
      ["-10.65", "18.7", "-2.5333846"],
      ["-1.31", "9.62", "-3.8273177"],
      ["-3.72", "7.31", "-3.2961242"],
      ["-2.37", "0.38", "-4.372132"],
      ["-4.29", "-1.57", "14.369467"],
      ["3.79", "16.13", "14.369467"],
      ["3.79", "16.13", "14.369467"],
      ["1.69", "8.31", "1.2666923"],
      ["-7.44", "5.83", "1.2666923"],
      ["-2.34", "10.04", "-6.2108784"],
      ["-6.74", "6.93", "-9.302697"],
      ["-7.25", "11.26", "-3.7864566"],
      ["-0.3", "14.14", "-1.0760075"],
      ["4.14", "7.86", "-1.7297841"],
      ["0.11", "5.71", "-2.2201166"],
      ["-4.59", "9.85", "1.4165162"],
      ["1.57", "12.76", "-0.50395286"],
      ["0.34", "13.95", "-0.42223078"],
      ["2.34", "14.79", "0.23154591"],
      ["1.69", "13.21", "3.9499009"],
      ["-4.67", "15.36", "-3.636633"],
      ["-12.68", "19.19", "-3.7864566"],
      ["-4.99", "10.95", "-2.5606253"],
      ["0.19", "5.83", "-2.9556155"],
      ["-2.14", "0.99", "-4.0180025"],
      ["-4.02", "-2.3", "-3.9499009"],
      ["-6.17", "2.68", "-1.6889231"],
      ["5.52", "16.55", "14.601013"],
      ["0.61", "8.85", "2.1111538"],
      ["-6.02", "7.4", "0.84446156"],
      ["-3.3", "9.77", "-3.9771416"],
      ["-5.33", "7.35", "-9.888372"],
      ["-6.59", "11.11", "-4.140586"],
      ["-2.11", "14.33", "-1.7978859"],
      ["3.64", "9.19", "-0.29964766"],
      ["0.76", "5.67", "-5.09401"],
      ["-5.2", "8.39", "3.405087"],
      ["0.89", "12.53", "-3.0237172"],
      ["0.93", "13.53", "1.9885708"],
      ["0.72", "14.25", "1.0760075"],
      ["0.93", "13.59", "4.3312707"],
      ["-3.79", "14.71", "-0.8036005"],
      ["-8.54", "18.16", "-7.082581"],
      ["-5.37", "13.8", "0.95342433"],
      ["-1.42", "7.63", "-3.8681788"],
      ["-4.1", "2.96", "-2.8330324"],
      ["-2.72", "-2.49", "-4.4810944"],
      ["-4.94", "-0.19", "-3.2961242"],
      ["0.72", "12.76", "14.09706"],
      ["4.25", "13.02", "2.8330324"],
      ["-5.6", "1.42", "-2.7513103"],
      ["-2.96", "15.43", "-3.255263"],
      ["-6.21", "4.71", "-8.771504"],
      ["-8.12", "8.85", "-5.5162406"],
      ["-6.02", "13.1", "-2.9556155"],
      ["5.13", "11.96", "-0.9125633"],
      ["3.21", "6.28", "-4.0588636"],
      ["-3.57", "7.44", "1.7978859"],
      ["-1.14", "12.45", "-2.5606253"],
      ["1.12", "13.53", "1.56634"],
      ["1.76", "14.67", "-0.6537767"],
      ["1.08", "14.02", "5.366417"],
      ["-3.3", "13.57", "-2.1383946"],
      ["-5.41", "16.02", "-7.6546354"],
      ["-8.5", "16.78", "1.9885708"],
      ["-0.04", "7.01", "-4.140586"],
      ["-3.57", "3.79", "-4.0180025"],
      ["-2.18", "-0.84", "-4.099725"],
      ["-5.86", "-0.34", "-3.5957718"],
      ["-5.18", "8.24", "7.273266"],
      ["8.54", "18.28", "7.9270425"],
      ["-0.53", "0.53", "-0.23154591"],
      ["-7.55", "13.82", "1.0760075"],
      ["-3.91", "3.49", "-4.671779"],
      ["-5.63", "5.6", "-8.390134"],
      ["-6.7", "11.75", "-3.255263"],
      ["0.76", "14.33", "0.42223078"],
      ["3.83", "7.08", "-2.6832085"],
      ["-0.76", "6.59", "-2.4516625"],
      ["-4.82", "10.92", "0.53119355"],
      ["1.12", "12.68", "0.7218784"],
      ["2.15", "13.44", "-0.9125633"],
      ["3.41", "14.79", "0.84446156"],
      ["-3.36", "15.4", "3.5276701"],
      ["-6.36", "14.75", "-6.891896"],
      ["-10.76", "17.58", "1.1441092"],
      ["-1.8", "9.77", "-3.718355"],
      ["-2.26", "5.67", "-3.2961242"],
      ["-1.8", "0.38", "-4.5900574"],
      ["-3.49", "-1.8", "-3.7864566"],
      ["-5.37", "3.15", "-0.7627395"],
      ["4.79", "18.05", "15.363752"],
      ["0.8", "6.4", "0.9942854"],
      ["-6.51", "8.62", "1.607201"],
      ["-4.56", "8.35", "-5.325556"],
      ["-5.71", "8.28", "-9.493382"],
      ["-6.78", "10.46", "-3.2961242"],
      ["-2.03", "14.82", "-1.4165162"],
      ["4.86", "8.58", "-1.56634"],
      ["0.11", "5.01", "-3.0237172"],
      ["-5.75", "8.96", "2.3018389"],
      ["1.69", "13.33", "-1.56634"],
      ["0.08", "14.41", "0.3405087"],
      ["2.03", "13.82", "1.334794"],
      ["1.33", "12.22", "2.4108016"],
      ["-5.94", "15.7", "-1.334794"],
      ["-5.94", "15.7", "-1.334794"],
      ["-12.49", "19.11", "-4.630918"],
      ["0.99", "9.19", "-3.9499009"],
      ["-4.1", "5.83", "-3.7864566"],
      ["-2.07", "-2.53", "-4.7535014"],
      ["-4.48", "-3.26", "-3.9499009"],
      ["-5.33", "5.05", "2.0294318"],
      ["10.57", "19.5", "9.847511"],
      ["-0.11", "-0.27", "-1.56634"],
      ["-8.58", "7.59", "1.2258313"],
      ["-4.82", "10.57", "-4.3312707"],
      ["-7.01", "4.71", "-9.043911"],
      ["-7.08", "11.14", "-4.8216033"],
      ["-0.5", "15.94", "-4.140586"],
      ["5.75", "7.25", "2.1111538"],
      ["-0.04", "6.44", "-3.2961242"],
      ["-4.67", "9.08", "1.1441092"],
      ["0.65", "13.44", "-0.88532263"],
      ["0.31", "14.25", "-0.46309182"],
      ["2.72", "14.67", "1.334794"],
      ["-4.52", "14.75", "-3.568531"],
      ["-4.52", "14.75", "-3.568531"],
      ["-9.11", "15.83", "2.2609777"],
      ["2.03", "7.27", "-5.175732"],
      ["-3.53", "5.18", "-3.718355"],
      ["-3.36", "-0.46", "-5.202973"],
      ["-6.17", "0.08", "-3.0237172"],
      ["-1.88", "11.92", "12.340035"],
      ["4.67", "14.75", "3.9090397"],
      ["0.53", "-0.15", "-6.3198414"],
      ["-9.62", "16.86", "0.040861044"],
      ["-5.6", "3.79", "-6.6331096"],
      ["-7.35", "6.44", "-6.851035"],
      ["-5.86", "14.71", "-4.0588636"],
      ["5.79", "12.11", "0.08172209"],
      ["1.61", "5.94", "-3.1054392"],
      ["-3.79", "7.74", "1.9885708"],
      ["-1.5", "11.26", "-2.8738933"],
      ["2.18", "14.52", "1.0351465"],
      ["2.15", "14.21", "-0.040861044"],
      ["2.49", "12.91", "3.1463003"],
      ["-5.18", "15.55", "-0.19068487"],
      ["-8.96", "16.93", "-7.9270425"],
      ["-8.81", "15.6", "1.3075534"],
      ["2.22", "7.25", "-3.0237172"],
      ["-3.53", "3.49", "-3.9499009"],
      ["-1.57", "-2.18", "-5.053149"],
      ["-5.6", "-0.42", "-4.399372"],
      ["-4.75", "11.37", "10.038197"],
      ["6.89", "15.55", "6.3198414"],
      ["-2.79", "4.9", "-2.3699405"],
      ["-4.44", "15.02", "-1.7978859"],
      ["-6.74", "1.33", "-6.0882955"],
      ["-7.86", "11.03", "-7.205164"],
      ["-5.18", "13.67", "-1.9477097"],
      ["3.72", "11.35", "0.040861044"],
      ["2.76", "6.05", "-4.5900574"],
      ["-2.91", "7.21", "0.14982383"],
      ["-2.98", "11.35", "-1.3075534"],
      ["0.69", "13.57", "1.4982382"],
      ["1.08", "13.87", "-1.2666923"],
      ["1.88", "13.67", "2.9147544"],
      ["-1.99", "14.52", "0.7218784"],
      ["-6.21", "15.64", "-7.4639506"],
      ["-11.37", "17.47", "3.0645783"],
      ["0.57", "8.62", "-4.1814466"],
      ["-3.79", "5.24", "-3.214402"],
      ["-1.8", "-0.53", "-4.5219555"],
      ["-4.59", "-1.73", "-4.099725"],
      ["-5.67", "4.06", "0.50395286"],
      ["10.69", "19.15", "11.795221"],
      ["-1.57", "3.99", "-0.38136974"],
      ["-7.44", "11.37", "2.5333846"],
      ["-3.98", "5.33", "-3.5276701"],
      ["-5.52", "8.08", "-9.915613"],
      ["-6.97", "11.96", "-3.759216"],
      ["-0.91", "14.06", "-1.7297841"],
      ["4.1", "7.82", "-1.7978859"],
      ["-0.34", "6.13", "-3.1054392"],
      ["-4.75", "8.69", "2.4925237"],
      ["1.14", "12.57", "-2.7921712"],
      ["0", "13.59", "-0.3405087"],
      ["1.38", "14.67", "0.6946377"],
      ["1.42", "13.4", "4.5628166"],
      ["-3.72", "15.02", "-1.607201"],
      ["-10.5", "19.31", "-5.5571017"],
      ["-6.47", "11.8", "-2.1111538"],
      ["-0.91", "6.05", "-2.4516625"],
      ["-2.03", "1.65", "-3.3642259"],
      ["-2.91", "-1.88", "-4.2495484"],
      ["-5.67", "2.11", "-3.0645783"],
      ["0.72", "12.49", "11.917805"],
      ["4.67", "15.09", "4.2495484"],
      ["-4.67", "1.38", "-3.1054392"],
      ["-6.55", "15.17", "-2.4516625"],
      ["-3.76", "5.98", "-4.1814466"],
      ["-6.32", "8.73", "-5.597963"],
      ["-4.18", "14.6", "-3.445948"],
      ["1.84", "8.96", "0.7627395"],
      ["-0.38", "6.44", "-3.3642259"],
      ["-3.68", "8.16", "1.5390993"],
      ["-0.57", "11.41", "-2.4516625"],
      ["2.07", "13.99", "2.6423476"],
      ["2.68", "14.14", "1.7570249"],
      ["2.22", "12.57", "3.718355"],
      ["-3.21", "17.01", "-2.9147544"],
      ["-9.38", "18.73", "-8.62168"],
      ["-7.12", "12.79", "0.7627395"],
      ["0.57", "7.78", "-3.636633"],
      ["-3.95", "2.15", "-3.9499009"],
      ["-3.21", "-3.68", "-4.2904096"],
      ["-6.74", "1.18", "-2.9556155"],
      ["-1.31", "13.87", "13.756551"],
      ["5.63", "12.91", "0.6537767"],
      ["1.57", "-1.84", "-2.4516625"],
      ["-6.85", "16.89", "1.8387469"],
      ["-7.86", "4.6", "-7.6546354"],
      ["-7.7", "5.52", "-6.1291566"],
      ["-7.55", "13.59", "-5.012288"],
      ["3.83", "16.7", "-2.4516625"],
      ["3.91", "5.98", "0.6537767"],
      ["-1.5", "5.71", "-2.1792557"],
      ["-1.5", "5.71", "-2.1792557"],
      ["-4.25", "10.99", "-0.5720546"],
      ["3.17", "13.8", "1.4982382"],
      ["-0.65", "14.71", "0.27240697"],
      ["1.46", "13.18", "2.6014864"],
      ["-2.53", "14.52", "-1.1168685"],
      ["-5.56", "15.79", "-6.891896"],
      ["-7.08", "15.51", "0.6946377"],
      ["-0.46", "7.86", "-4.5628166"],
      ["-3.95", "5.24", "-3.6774938"],
      ["-2.75", "0.72", "-4.671779"],
      ["-6.32", "0.42", "-3.5957718"],
      ["-5.71", "6.36", "3.173541"],
      ["7.67", "19", "9.888372"],
      ["3.68", "3.72", "-1.9885708"],
      ["-7.44", "12.37", "2.0294318"],
      ["-6.47", "7.86", "-3.5957718"],
      ["-6.47", "7.86", "-3.5957718"],
      ["-6.47", "7.86", "-3.5957718"],
      ["3.15", "14.9", "-1.3075534"],
      ["2.03", "7.12", "-0.9125633"],
      ["-1.84", "6.59", "-0.7218784"],
      ["-3.26", "11.26", "0.040861044"],
      ["1.31", "12.68", "1.2666923"],
      ["0.11", "14.14", "-0.5720546"],
      ["1.8", "14.06", "3.0645783"],
      ["-0.38", "14.48", "0.84446156"],
      ["-4.82", "16.36", "-8.308413"],
      ["-10.31", "17.92", "2.7240696"],
      ["0.42", "7.31", "-5.202973"],
      ["-3.98", "4.4", "-3.5957718"],
      ["-1.95", "-0.19", "-4.2495484"],
      ["-6.02", "-0.5", "-3.2961242"],
      ["-5.43", "5.56", "0.61291564"],
      ["7.46", "19.27", "9.997335"],
      ["2.3", "1.95", "-2.0294318"],
      ["-9", "12.18", "2.4108016"],
      ["-3.83", "6.97", "-4.399372"],
      ["-6.63", "4.56", "-8.539958"],
      ["-6.51", "12.07", "-3.0237172"],
      ["2.72", "14.71", "-0.0"],
      ["1.61", "6.47", "-2.6014864"],
      ["-2.79", "7.12", "0.46309182"],
      ["-3.17", "10.23", "0.040861044"],
      ["1.12", "11.8", "-0.7627395"],
      ["0.27", "13.76", "-1.4982382"],
      ["1.38", "14.37", "0.92618364"],
      ["1.12", "13.87", "3.5957718"],
      ["-4.75", "14.41", "-3.0645783"],
      ["-9.34", "18.35", "-4.372132"],
      ["-4.48", "11.84", "-1.8387469"],
      ["-0.72", "6.44", "-3.405087"],
      ["-3.17", "2.22", "-3.9090397"],
      ["-3.45", "-1.65", "-4.099725"],
      ["-7.12", "1.04", "-2.7513103"],
      ["1.38", "15.75", "14.410328"],
      ["4.63", "10.42", "2.4925237"],
      ["-2.03", "3.95", "-6.428804"],
      ["-5.43", "13.95", "0.50395286"],
      ["-7.21", "4.02", "-10.310603"],
      ["-7.74", "8.66", "-4.671779"],
      ["-2.79", "15.13", "-1.7297841"],
      ["4.4", "9.28", "-0.29964766"],
      ["0.5", "6.28", "-3.9499009"],
      ["-6.02", "8.54", "2.982856"],
      ["1.54", "13.1", "-1.4165162"],
      ["0.89", "14.18", "1.2666923"],
      ["2.79", "14.25", "0.313268"],
      ["-0.23", "13.44", "3.9090397"],
      ["-5.67", "15.83", "-3.486809"],
      ["-10.15", "18.28", "-5.7886477"],
      ["-2.68", "11.11", "0.3405087"],
      ["0.23", "7.74", "-4.399372"],
      ["-3.91", "3.21", "-4.5628166"],
      ["-3.76", "-0.34", "-5.434519"],
      ["-7.12", "1.18", "-3.0237172"],
      ["-3.21", "10.57", "11.536434"],
      ["6.78", "15.43", "5.6660647"],
      ["-3.72", "9.34", "-3.6774938"],
      ["-5.09", "7.46", "-5.366417"],
      ["-6.17", "6.66", "-10.7192135"],
      ["-6.4", "10.61", "-3.336985"],
      ["-2.34", "14.9", "-1.7570249"],
      ["4.21", "8.24", "-1.2258313"],
      ["0.08", "7.12", "-2.7240696"],
      ["-3.87", "8.54", "1.3756552"],
      ["-0.19", "12.64", "-2.1383946"],
      ["0.27", "13.76", "2.152015"],
      ["1.12", "13.99", "-0.53119355"],
      ["1.31", "14.33", "4.5628166"],
      ["-3.76", "13.87", "-2.1792557"],
      ["-7.31", "16.28", "-6.701211"],
      ["-6.24", "14.63", "1.0760075"],
      ["-0.89", "7.59", "-3.405087"],
      ["-2.91", "2.76", "-3.445948"],
      ["-2.22", "-0.8", "-4.1814466"],
      ["-5.2", "0.95", "-2.3699405"],
      ["-2.34", "12.03", "11.795221"],
      ["5.28", "14.21", "5.175732"],
      ["-0.19", "1.73", "-4.140586"],
      ["-6.97", "16.74", "0.8036005"],
      ["-6.7", "4.21", "-8.499097"],
      ["-7.46", "7.97", "-5.053149"],
      ["-4.94", "14.75", "-3.486809"],
      ["4.4", "10.31", "0.19068487"],
      ["1.23", "6.47", "-2.7513103"],
      ["-3.57", "6.93", "1.56634"],
      ["-1.65", "11.11", "-2.1792557"],
      ["0.34", "14.21", "1.4982382"],
      ["1.69", "14.02", "-0.23154591"],
      ["2.79", "14.06", "3.759216"],
      ["-4.48", "15.28", "0.27240697"],
      ["-6.89", "15.98", "-9.193735"],
      ["-8.47", "16.02", "3.0237172"],
      ["2.18", "8.01", "-3.8273177"],
      ["-4.25", "4.4", "-4.2904096"],
      ["-2.6", "-1.33", "-4.2904096"],
      ["-5.13", "-0.76", "-2.8330324"],
      ["-6.24", "9.15", "6.8237944"],
      ["4.18", "12.3", "3.214402"],
      ["0.8", "2.79", "-4.671779"],
      ["-6.4", "17.39", "2.3426998"],
      ["-9.23", "4.1", "-7.8861814"],
      ["-8.08", "6.82", "-4.7943625"],
      ["-4.99", "13.53", "-3.8273177"],
      ["5.33", "13.57", "-1.879608"],
      ["2.45", "6.09", "-0.88532263"],
      ["-3.91", "7.27", "0.6946377"],
      ["-2.26", "10.95", "-1.607201"],
      ["3.17", "13.63", "0.040861044"],
      ["-0.04", "14.29", "-0.27240697"],
      ["2.83", "12.87", "3.1463003"],
      ["-2.37", "14.37", "1.4573772"],
      ["-7.97", "17.08", "-7.9270425"],
      ["-12.49", "15.47", "3.255263"],
    ],
  };

  function handleOrientation(event) {
    updateFieldIfNotNull("Orientation_a", event.alpha);
    updateFieldIfNotNull("Orientation_b", event.beta);
    updateFieldIfNotNull("Orientation_g", event.gamma);
    incrementEventCount();

    console.log(event.alpha, event.beta, event.gamma);
  }
  console.log("hellow");
  function incrementEventCount() {
    let counterElement = document.getElementById("num-observed-events");
    let eventCount = parseInt(counterElement.innerHTML);
    counterElement.innerHTML = eventCount + 1;
  }

  function updateFieldIfNotNull(fieldName, value, precision = 10) {
    if (value != null)
      document.getElementById(fieldName).innerHTML =
        value.toFixed(precision);
  }

  function handleMotion(event) {
    updateFieldIfNotNull(
      "Accelerometer_gx",
      event.accelerationIncludingGravity.x
    );
    updateFieldIfNotNull(
      "Accelerometer_gy",
      event.accelerationIncludingGravity.y
    );
    updateFieldIfNotNull(
      "Accelerometer_gz",
      event.accelerationIncludingGravity.z
    );

    data_point.push([
      event.accelerationIncludingGravity.x,
      event.accelerationIncludingGravity.y,
      event.accelerationIncludingGravity.z,
    ]);

    updateFieldIfNotNull("Accelerometer_x", event.acceleration.x);
    updateFieldIfNotNull("Accelerometer_y", event.acceleration.y);
    updateFieldIfNotNull("Accelerometer_z", event.acceleration.z);

    updateFieldIfNotNull("Accelerometer_i", event.interval, 2);

    updateFieldIfNotNull("Gyroscope_z", event.rotationRate.alpha);
    updateFieldIfNotNull("Gyroscope_x", event.rotationRate.beta);
    updateFieldIfNotNull("Gyroscope_y", event.rotationRate.gamma);
    incrementEventCount();
  }

  let is_running = false;
  let demo_button = document.getElementById("start_demo");

  demo_button.onclick = function (e) {
    e.preventDefault();

    // Request permission for iOS 13+ devices
    if (
      DeviceMotionEvent &&
      typeof DeviceMotionEvent.requestPermission === "function"
    ) {
      DeviceMotionEvent.requestPermission();
    }

    if (is_running) {
      window.removeEventListener("devicemotion", handleMotion);
      window.removeEventListener("deviceorientation", handleOrientation);
      demo_button.innerHTML = "Start demo";
      demo_button.classList.add("btn-success");
      demo_button.classList.remove("btn-danger");
      let data_p = document.body.querySelector(".data");
      // data_p.innerHTML = 'Hello'
      console.log(data_point);
      fetch("/eval/", {
        method: "POST",
        body: JSON.stringify(data_point),
        mode: "cors",
        headers: {
          "Content-Type": "application/json",
          "Access-Control-Allow-Origin": "*",
        },
      })
        .then((res) => res.json())
        .then((data) => {
          console.log(data);
          data_p.innerHTML = data["data"];
        })
        .catch((err) => console.log(err));
      is_running = false;
    } else {
      window.addEventListener("devicemotion", handleMotion);
      window.addEventListener("deviceorientation", handleOrientation);
      document.getElementById("start_demo").innerHTML = "Stop demo";
      demo_button.classList.remove("btn-success");
      demo_button.classList.add("btn-danger");
      is_running = true;
    }
  };
    </script>
    <!-- <script src="{{ url_for('static',filename='js/custom.js') }}"></script> -->
  </body>
</html>
